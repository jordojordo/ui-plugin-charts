(("undefined"!==typeof self?self:this)["webpackJsonpkubewarden_0_1_7"]=("undefined"!==typeof self?self:this)["webpackJsonpkubewarden_0_1_7"]||[]).push([[4],{"0e6c":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.$fetchState.pending?s("Loading"):s("div",[s("Banner",{staticClass:"type-banner mb-20 mt-0",attrs:{color:"info",label:e.t("kubewarden.admissionPolicy.description")}}),s("PolicyList",{attrs:{resource:e.resource,rows:e.rows,schema:e.schema}})],1)},a=[],o=s("6418"),i=s("15ca"),n=s("ae77"),l={components:{Banner:o["a"],Loading:i["a"],PolicyList:n["a"]},props:{resource:{type:String,required:!0},schema:{type:Object,required:!0}},async fetch(){const e=this.$store.getters["currentStore"](this.resource);await this.$store.dispatch(e+"/findAll",{type:this.resource}),this.rows=this.$store.getters[e+"/all"](this.resource)},data(){return{rows:null}}},c=l,d=s("d802"),u=Object(d["a"])(c,r,a,!1,null,null,null);t["default"]=u.exports},"2ed1":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.$fetchState.pending?s("Loading"):s("div",[e.hasDefaults?e._e():s("Banner",{staticClass:"mb-20 mt-0",attrs:{color:"info",closable:!0}},[s("p",{domProps:{innerHTML:e._s(e.t("kubewarden.policyServer.noDefaultsInstalled.description",{},!0))}}),s("button",{staticClass:"btn role-primary mt-10",on:{click:function(t){return t.preventDefault(),e.setChartRoute.apply(null,arguments)}}},[e._v(" "+e._s(e.t("kubewarden.policyServer.noDefaultsInstalled.button"))+" ")])]),s("ResourceTable",{attrs:{schema:e.schema,rows:e.rows}})],1)},a=[],o=s("907c"),i=s("4ac6"),n=s("6418"),l=s("15ca"),c=s("126f"),d={components:{Banner:n["a"],Loading:l["a"],ResourceTable:c["a"]},props:{resource:{type:String,required:!0},schema:{type:Object,required:!0}},async fetch(){const e=this.$store.getters["currentStore"](this.resource);await this.$store.dispatch(e+"/findAll",{type:this.resource}),this.rows=this.$store.getters[e+"/all"](this.resource),await this.$store.dispatch("catalog/load");const t=await this.$store.dispatch(e+"/findAll",{type:o["b"].APP});this.hasDefaults=t.find(e=>{var t,s,r,a;return"rancher-kubewarden-defaults"===(null===(t=e.spec)||void 0===t||null===(s=t.chart)||void 0===s||null===(r=s.metadata)||void 0===r||null===(a=r.annotations)||void 0===a?void 0:a[i["c"].RELEASE_NAME])})},data(){return{hasDefaults:null,rows:null}},methods:{setChartRoute(){const e=this.$store.getters["catalog/rawCharts"],t=Object.values(e),s=t.find(e=>"kubewarden-defaults"===e.chartName);return s?s.goToInstall("kubewarden-defaults"):null}}},u=d,p=s("d802"),f=Object(p["a"])(u,r,a,!1,null,null,null);t["default"]=f.exports},3760:function(e,t,s){var r=s("5eaa");t=r(!1),t.push([e.i,'.clearfix[data-v-60751520]:after,.clearfix[data-v-60751520]:before{content:" ";display:table}.clearfix[data-v-60751520]:after{clear:both}.list-unstyled[data-v-60751520]{margin:0;padding:0;list-style-type:none}.no-select[data-v-60751520]{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize[data-v-60751520]{resize:none}.hand[data-v-60751520]{cursor:pointer;cursor:hand}.fixed[data-v-60751520]{table-layout:fixed}.clip[data-v-60751520]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-60751520],.force-wrap[data-v-60751520]{word-wrap:break-word}.force-wrap[data-v-60751520]{white-space:normal}.bordered-section[data-v-60751520]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-60751520]{margin-bottom:20px;margin-top:20px}.policy__mode[data-v-60751520]{display:flex;align-items:center}.policy__mode i[data-v-60751520]{margin-left:5px;font-size:22px;color:var(--warning)}',""]),e.exports=t},"560a":function(e,t,s){var r=s("3760");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var a=s("0ed3").default;a("b1059a3a",r,!0,{sourceMap:!1,shadowMode:!1})},"7ea6":function(e,t,s){"use strict";s("560a")},ae77:function(e,t,s){"use strict";var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"row mb-20"},[s("div",{staticClass:"col span-3"},[s("LabeledSelect",{staticStyle:{"min-width":"200px"},attrs:{options:e.resources,label:"Resources"},scopedSlots:e._u([{key:"option",fn:function(t){return[e._v(" "+e._s(t.label)+" ")]}}]),model:{value:e.filteredResource,callback:function(t){e.filteredResource=t},expression:"filteredResource"}})],1),s("div",{staticClass:"col span-3"},[s("LabeledSelect",{staticStyle:{"min-width":"200px"},attrs:{options:e.operations,label:"Operations"},scopedSlots:e._u([{key:"option",fn:function(t){return[e._v(" "+e._s(t.label)+" ")]}}]),model:{value:e.filteredOperation,callback:function(t){e.filteredOperation=t},expression:"filteredOperation"}})],1),s("button",{ref:"btn",staticClass:"btn, btn-sm, role-primary",attrs:{type:"button"},on:{click:e.resetFilter}},[e._v(" "+e._s(e.t("kubewarden.utils.resetFilter"))+" ")])]),s("ResourceTable",{attrs:{schema:e.schema,rows:e.filteredRows,headers:e.headers},scopedSlots:e._u([{key:"col:mode",fn:function(t){var r=t.row;return[s("td",[s("span",{staticClass:"policy__mode"},[s("span",{staticClass:"text-capitalize"},[e._v(e._s(r.spec.mode))]),e.hasNamespaceSelector(r)?s("i",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:e.t("kubewarden.policies.namespaceWarning"),expression:"t('kubewarden.policies.namespaceWarning')",modifiers:{bottom:!0}}],staticClass:"icon icon-warning"}):e._e()])])]}}])})],1)},a=[],o=s("71d2"),i=s.n(o),n=s("1d19"),l=s("466b"),c=s("126f"),d={components:{LabeledSelect:l["a"],ResourceTable:c["a"]},props:{resource:{type:String,required:!0},rows:{type:Array,required:!0},schema:{type:Object,required:!0}},fetch(){if(this.rows){const e=this.rows.flatMap(e=>i()(e.spec.rules)),t=e.flatMap(e=>e.resources),s=e.flatMap(e=>e.operations);t&&(this.resources=[...new Set(t)]),s&&(this.operations=[...new Set(s)])}},data(){return{resources:null,operations:null,filteredResource:null,filteredOperation:null}},computed:{headers(){return this.$store.getters["type-map/headersFor"](this.schema)},filteredRows(){const e=this.rows||[],t=e.filter(e=>{const t=i()(e.spec.rules),s=t.flatMap(e=>e.resources),r=t.flatMap(e=>e.operations);return!(this.filteredResource&&!s.includes(this.filteredResource))&&!(this.filteredOperation&&!r.includes(this.filteredOperation))});return Object(n["a"])(t,"id")}},methods:{hasNamespaceSelector(e){return e.namespaceSelector},resetFilter(){this.$set(this,"filteredResource",null),this.$set(this,"filteredOperation",null)}}},u=d,p=(s("7ea6"),s("d802")),f=Object(p["a"])(u,r,a,!1,null,"60751520",null);t["a"]=f.exports},e216:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.$fetchState.pending?s("Loading"):s("div",[s("Banner",{staticClass:"type-banner mb-20 mt-0",attrs:{color:"info",label:e.t("kubewarden.clusterAdmissionPolicy.description")}}),s("PolicyList",{attrs:{resource:e.resource,rows:e.rows,schema:e.schema}})],1)},a=[],o=s("6418"),i=s("15ca"),n=s("ae77"),l={components:{Banner:o["a"],Loading:i["a"],PolicyList:n["a"]},props:{resource:{type:String,required:!0},schema:{type:Object,required:!0}},async fetch(){const e=this.$store.getters["currentStore"](this.resource);await this.$store.dispatch(e+"/findAll",{type:this.resource}),this.rows=this.$store.getters[e+"/all"](this.resource)},data(){return{rows:null}}},c=l,d=s("d802"),u=Object(d["a"])(c,r,a,!1,null,null,null);t["default"]=u.exports}}]);
//# sourceMappingURL=kubewarden-0.1.7.umd.min.list.js.map